# üå± –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π Seeding –¥–ª—è Railway

## –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –≤ production, –µ—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ `users` –ø—É—Å—Ç–∞—è.

## –ú–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç—ã

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π seed –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ (Production)

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ `NODE_ENV=production`:
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–∞ `.seeded` (—Ñ–ª–∞–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
- –ï—Å–ª–∏ —Ñ–ª–∞–≥ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –ë–î
- –ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ `users` –ø—É—Å—Ç–∞—è ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:
  - **Email:** `admin@nuvia.com`
  - **Password:** `admin123`
  - **Role:** `admin`

### 2. –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ seed

```bash
npm run prisma:seed
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –ë–î —á–µ—Ä–µ–∑ Prisma
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –°–æ–∑–¥–∞–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, –µ—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ –ø—É—Å—Ç–∞—è
- –í—ã–≤–æ–¥–∏—Ç –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å

## –§–∞–π–ª—ã

- `prisma/seed.ts` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª seeding
- `src/main.ts` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–∑–æ–≤ seed –≤ production
- `.seeded` - —Ñ–ª–∞–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –≤ git)

## Railway Deployment

–ü—Ä–∏ –¥–µ–ø–ª–æ–µ –Ω–∞ Railway:

1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
   ```bash
   npm install
   # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç: prisma generate (postinstall)
   ```

2. **–°–±–æ—Ä–∫–∞:**
   ```bash
   npm run build
   # –ó–∞–ø—É—Å–∫–∞–µ—Ç: prisma generate && nest build
   ```

3. **–ó–∞–ø—É—Å–∫:**
   ```bash
   npm run start:prod
   # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏ —Å–æ–∑–¥–∞–µ—Ç –∞–¥–º–∏–Ω–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
   ```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- Seed –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ `users` –ø—É—Å—Ç–∞—è
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–ª–∞–≥ `.seeded` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤
- –í production –æ—à–∏–±–∫–∏ seed –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ü–∞—Ä–æ–ª—å —Ö–µ—à–∏—Ä—É–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é bcrypt (10 rounds)

## –õ–æ–≥–∏

–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º —Å–æ–∑–¥–∞–Ω–∏–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
```
üå± –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞...
‚úÖ Admin user created
üìß Email: admin@nuvia.com
üîë Password: admin123
‚ú® Seeding –∑–∞–≤–µ—Ä—à–µ–Ω!
```

–ï—Å–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:
```
‚úÖ Admin exists
‚ú® Seeding –∑–∞–≤–µ—Ä—à–µ–Ω!
```

